<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Grammar Cloze Adventure</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- ResponsiveVoice for text-to-speech -->
  <script src="https://code.responsivevoice.org/responsivevoice.js?key=YOUR_API_KEY"></script>
</head>
<body>
  <!-- Tutorial Modal for Onboarding -->
  <div id="tutorial-modal" class="modal">
    <div class="modal-content">
      <h2>Welcome to Grammar Cloze Adventure!</h2>
      <p>
        Drag or tap a word to fill in each blank. Use the sidebar for hints and settings.
        When you’re ready, press "Submit" to check your answers.
      </p>
      <button id="tutorial-close-btn" class="modal-btn">Let's Begin</button>
    </div>
  </div>

  <!-- Header -->
  <header>
    <h1>Grammar Cloze Adventure</h1>
    <p class="instructions">
      Drag or tap a word to fill in the blanks, then press "Submit" for detailed feedback.
    </p>
    <button id="toggle-theme" class="theme-toggle">Light Mode</button>
    <button id="sidebar-toggle" class="sidebar-toggle">☰</button>
  </header>

  <!-- Sidebar for Settings -->
  <aside class="sidebar">
    <label for="grammar-type">Grammar Type:</label>
    <select id="grammar-type">
      <option value="prepositions">Prepositions</option>
      <option value="conjunctions">Conjunctions</option>
      <option value="subjectVerbAgreement">Subject-Verb Agreement</option>
      <option value="pronouns">Pronouns</option>
      <option value="adjectivesAdverbs">Adjectives & Adverbs</option>
      <option value="tenses">Tenses</option>
    </select>
    <span id="grammar-type-message" style="display: none; color: #f0e4ff; font-size: 0.9em;">
      (Category selection disabled in this mode)
    </span>
    <br>
    <label for="timer-setting">Timer (seconds):</label>
    <select id="timer-setting">
      <option value="60" selected>60</option>
      <option value="30">30</option>
      <option value="off">Off</option>
    </select>
    <br>
    <button id="toggle-dyslexia">Toggle Dyslexia Font</button>
    <br>
    <label for="text-size-slider">Text Size:</label>
    <input type="range" id="text-size-slider" min="1" max="2" step="0.1" value="1.4">
    <br>
    <button id="toggle-challenge">⏱️ Challenge</button>
  </aside>

  <!-- Main Game Content -->
  <main>
    <div class="game-container">
      <div id="passage-text" aria-label="Grammar passage"></div>
      <div id="word-box" aria-label="Available words"></div>
    </div>
    <!-- Control Buttons -->
    <div class="control-buttons">
      <button id="hint-btn" aria-label="Get Hint">Hint (H)</button>
      <button id="clear-btn" aria-label="Clear Answers">Clear</button>
      <button id="share-btn" aria-label="Share Progress">Share</button>
      <button id="read-passage-btn" aria-label="Read Passage Aloud">Read Passage</button>
    </div>
    <!-- Navigation Buttons including Submit -->
    <div class="navigation-buttons">
      <button id="submit-btn" aria-label="Submit Answers">Submit</button>
      <button id="prev-btn" aria-label="Previous Passage">⬅️ Prev</button>
      <button id="next-btn" aria-label="Next Passage">Next ➡️</button>
    </div>
    <div id="feedback" aria-live="assertive"></div>
    <div class="status-bar">
      <span id="progress"></span>
      <span id="score"></span>
      <span id="stars"></span>
      <span id="timer"></span>
      <div id="progress-bar-container">
        <div id="progress-bar"></div>
      </div>
      <div id="timer-container">
        <div id="timer-bar"></div>
      </div>
      <span id="level"></span>
    </div>
  </main>

  <!-- Audio Elements for Sound Effects -->
  <audio id="correct-sound" src="correct.mp3"></audio>
  <audio id="incorrect-sound" src="incorrect.mp3"></audio>

  <script src="script.js"></script>
</body>
</html>
